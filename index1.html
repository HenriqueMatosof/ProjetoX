<head>
  <link rel="preconnect" href="https://fonts.googleapis.com" />
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
  <link href="https://fonts.googleapis.com/css2?family=Press+Start+2P&display=swap" rel="stylesheet" />
  <style>
    /* Remove margens e preenche a tela inteira */
    html,
    body {
      margin: 0;
      padding: 0;
      width: 100%;
      height: 107%;
      overflow: hidden;
      /* Evita scroll */
      background: black;
      /* Fundo padrÃ£o */
    }

    /* Canvas ocupa 100% da tela */
    canvas {
      display: block;
      width: 100%;
      height: 100%;
    }

    * {
      box-sizing: border-box;
      font-family: 'Press Start 2P', cursive;
    }
  </style>
</head>

<body>
  <!-- red container div -->
  <div style="position: relative; display: inline-block">
    <!-- smaller red container div -->
    <div style="
        position: absolute;
        display: flex;
        width: 100%;
        align-items: center;
        padding: 20px;
      ">
      <!-- player health -->
      <div style="
          position: relative;
          width: 100%;
          display: flex;
          justify-content: flex-end;
          border-top: 4px solid white;
          border-left: 4px solid white;
          border-bottom: 4px solid white;
        ">
        <div style="background-color: red; height: 30px; width: 100%"></div>
        <div id="playerHealth" style="
            position: absolute;
            background: #818cf8;
            top: 0;
            right: 0;
            bottom: 0;
            width: 100%;
          "></div>
      </div>

      <!-- timer -->
      <div id="timer" style="
          background-color: black;
          width: 100px;
          height: 50px;
          flex-shrink: 0;
          display: flex;
          align-items: center;
          justify-content: center;
          color: white;
          border: 4px solid white;
        ">
        10
      </div>
      <!-- enemy health -->
      <div style="
          position: relative;
          width: 100%;
          border-top: 4px solid white;
          border-bottom: 4px solid white;
          border-right: 4px solid white;
        ">
        <div style="background-color: red; height: 30px"></div>
        <div id="enemyHealth" style="
            position: absolute;
            background: #818cf8;
            top: 0;
            right: 0;
            bottom: 0;
            left: 0;
          "></div>
      </div>
      <div></div>
    </div>
    <div id="displayText" style="
        position: absolute;
        color: white;
        align-items: center;
        justify-content: center;
        top: 0;
        right: 0;
        bottom: 0;
        left: 0;
        display: none;
      ">
      Tie
    </div>
    <canvas></canvas>
  </div>
  <div id="game-over" style="display:none; position:absolute; top:0; left:0; width:100%; height:100%; 
background:rgba(0,0,0,0.7); color:white; font-size:30px; text-align:center; padding-top:100px;">
    <h1>GAME OVER</h1>
    <button onclick="newGame()">Novo Jogo</button>
    <button onclick="goToMenu()">Menu Principal</button>
  </div>

  <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.9.1/gsap.min.js"
    integrity="sha512-H6cPm97FAsgIKmlBA4s774vqoN24V5gSQL4yBTDOY2su2DeXZVhQPxFK4P6GPdnZqM9fg1G3cMv5wD7e6cFLZQ=="
    crossorigin="anonymous" referrerpolicy="no-referrer"></script>
  <script src="js/utils.js"></script>
  <script src="js/classes.js"></script>
  <script src="script1.js"></script>


  <!-- red container div -->
  <div style="position: relative; display: inline-block">
    <!-- smaller red container div -->
    <div style="position: absolute; display: flex; width: 100%; align-items: center; padding: 20px;">

      <!-- player health -->
      <div style="position: relative; width: 100%; display: flex; justify-content: flex-end;
                  border-top: 4px solid white; border-left: 4px solid white; border-bottom: 4px solid white;">
        <div style="background-color: red; height: 30px; width: 100%"></div>
        <div id="playerHealth" style="position: absolute; background: #818cf8; top: 0; right: 0; bottom: 0; width: 100%;"></div>
      </div>

      <!-- timer -->
      <div id="timer" style="background-color: black; width: 100px; height: 50px; flex-shrink: 0;
                             display: flex; align-items: center; justify-content: center; 
                             color: white; border: 4px solid white;">
        10
      </div>

      <!-- enemy health -->
      <div style="position: relative; width: 100%; border-top: 4px solid white;
                  border-bottom: 4px solid white; border-right: 4px solid white;">
        <div style="background-color: red; height: 30px;"></div>
        <div id="enemyHealth" 
             style="position: absolute; background: #818cf8; top: 0; right: 0; bottom: 0; left: 0;"></div>
      </div>
    </div>

    <!-- display text -->
    <div id="displayText" style="position: absolute; color: white; align-items: center; justify-content: center;
                                 top: 0; right: 0; bottom: 0; left: 0; display: none;">
      Tie
    </div>

    <canvas></canvas>
  </div>

  <div id="game-over"
       style="display:none; position:absolute; top:0; left:0; width:100%; height:100%; 
              background:rgba(0,0,0,0.7); color:white; font-size:30px; text-align:center; padding-top:100px;">
    <h1>GAME OVER</h1>
    <button onclick="newGame()">Novo Jogo</button>
    <button onclick="goToMenu()">Menu Principal</button>
  </div>

  <!-- MÃºsica da batalha -->
<audio id="battleMusic" src="battleMusic/audio/battle.mp3" preload="auto"></audio>

<!-- BotÃ£o de mute -->
<button id="muteBtn"
  style="position:absolute; top:20px; right:20px; z-index:999;
         font-size:22px; padding:10px; cursor:pointer;">
  ðŸ”Š
</button>

<script>
  
  const battleMusic = document.getElementById("battleMusic");
  const muteBtn = document.getElementById("muteBtn");

  function startBattleMusic() {
    battleMusic.volume = 0.5;
    battleMusic.play().catch(() => {});
  }

  // ComeÃ§a a mÃºsica no primeiro clique da tela 
  document.body.addEventListener("click", () => {
    if (battleMusic.paused) {
      startBattleMusic();
    }
  });

  // BotÃ£o mute
  muteBtn.addEventListener("click", () => {
    battleMusic.muted = !battleMusic.muted;
    muteBtn.textContent = battleMusic.muted ? "ðŸ”‡" : "ðŸ”Š";
  });
  battleMusic.volume = 1.0;

// Impede que o botÃ£o fique em foco (assim a tecla espaÃ§o nÃ£o muta a mÃºsica)
  muteBtn.addEventListener("mousedown", () => {
  muteBtn.blur();
});
muteBtn.addEventListener("click", () => {
  muteBtn.blur();
});

</script>

  ðŸ”Š
</button>





</body>